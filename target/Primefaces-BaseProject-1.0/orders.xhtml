<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:head></h:head>

    <h:body>
        Proceso en construccion
        <h:form id ="tabla">
            
            <p:dataTable  id="tablaOrdenes" var="orden" value="#{ordersManagedBean.ordenes}" 
                          selectionMode="single" selection="#{ordersManagedBean.orden}" rowKey="#{orden.getItemsOrden()}">
                <p:column headerText="Numero de la orden">
                    <h:outputText value ="#{(ordersManagedBean.ordenes.indexOf(orden))+1}"/>                                         
                </p:column>
                
                <p:column headerText="Numero de items">
                    <h:outputText value ="#{(orden.getItemsOrden()).size()}"/>
                </p:column>
                
            </p:dataTable>     
            
            <p:dataTable  id="tablaItems" var="item" value="#{ordersManagedBean.items}">
                <p:column headerText="Items">
                    <h:outputText value ="#{(ordersManagedBean.items.indexOf(items))+1}"/>                                         
                </p:column>            
                           
            </p:dataTable>                              
                
            <p:commandButton value="Agregar Orden" id="ajax"  actionListener="#{ordersManagedBean.crearOrden}" update="tabla" />
            <p:inputText value="#{ordersManagedBean.orden}"></p:inputText>
        </h:form>
    </h:body>

</html>